<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Greeting Card</title>
    <!-- Include Swiper CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5e1e5;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        .paperbgg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/crumpled-paper.png') repeat;
            opacity: 0.5;
            z-index: -1;
        }
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 20px;
            position: relative;
        }
        h1 {
            font-family: 'Gamja Flower', cursive;
            font-size: 16px;
            background-color: #4b5563;
            color: #f9fafb;
            padding: 2px 20px 5px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 8px 8px;
            position: absolute;
            top: 0;
            margin-bottom: 20px;
        }
        @media (min-width: 1024px) {
            h1 {
                font-size: 17px;
            }
        }
        .swiper-container {
            width: 365px;
            height: 510px;
            margin-bottom: 28px;
            margin-top: 36px;
        }
        @media (min-width: 768px) {
            .swiper-container {
                width: 445px;
                height: 600px;
                margin-top: 32px;
            }
        }
        @media (min-width: 1024px) {
            .swiper-container {
                width: 400px;
                height: 539px;
            }
        }
        .swiper-slide {
            width: 365px;
            height: 492px;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 28px 30px;
            box-shadow: 0 1px 5px rgba(150, 150, 150, 0.7);
        }
        @media (min-width: 768px) {
            .swiper-slide {
                width: 445px;
                height: 600px;
            }
        }
        @media (min-width: 1024px) {
            .swiper-slide {
                width: 400px;
                height: 550px;
            }
        }
        .swiper-slide img {
            max-height: 210px;
            width: auto;
            object-fit: contain;
            padding: 0 4px;
        }
        .swiper-slide p {
            white-space: pre-wrap;
            margin: 0 0 16px;
        }
        .font-gochi {
            font-family: 'Gochi Hand', cursive;
            font-size: 16px;
            color: #1a237e;
        }
        .font-indie {
            font-family: 'Indie Flower', cursive;
            font-size: 18px;
            color: #1e1e1e;
        }
        .font-sans {
            font-family: sans-serif;
            font-size: 16px;
            color: #49a74d;
        }
        .text-right {
            text-align: right;
            padding-right: 8px;
        }
        .spotify-slide {
            padding: 32px 8px;
            background-image: url('/musicbg.png');
            background-size: contain;
            background-position: center;
        }
        .spotify-slide iframe {
            width: 100%;
            height: 352px;
        }
        .page-indicator {
            color: #4b5563;
            font-size: 15px;
            margin-bottom: 20px;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            width: 365px;
            padding: 0 4px;
            margin-bottom: 20px;
        }
        @media (min-width: 768px) {
            .nav-buttons {
                width: 445px;
            }
        }
        @media (min-width: 1024px) {
            .nav-buttons {
                width: 400px;
            }
        }
        .nav-buttons button {
            background: none;
            border: none;
            cursor: pointer;
        }
        .action-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .action-buttons button {
            display: flex;
            align-items: center;
            padding: 6px 16px;
            border: 1px solid #232f61;
            color: #232f61;
            font-weight: 600;
            text-transform: capitalize;
            border-radius: 8px;
            background: none;
            cursor: pointer;
        }
        .action-buttons button:hover {
            border-width: 2px;
        }
        .action-buttons svg {
            margin-right: 4px;
        }
        .view-pop {
            background-color: #fce7f3;
            color: #1e40af;
            padding: 6px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            margin-top: 36px;
            cursor: pointer;
        }
        .view-pop:hover {
            color: #4b5563;
            font-size: 15px;
        }
        footer {
            padding: 80px 0 20px;
            text-align: center;
        }
        footer div {
            display: inline-flex;
            align-items: center;
            background: white;
            padding: 4px 20px;
            border-radius: 9999px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            color: #ec4899;
        }
        footer h1 {
            font-family: 'Comfortaa', cursive;
            font-size: 16px;
            color: #232f61;
            font-weight: 700;
            padding-left: 8px;
            position: static;
            box-shadow: none;
        }
        .dialog-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 10;
        }
        .dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            max-width: 640px;
            background: #fce7f3;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 20;
            background-image: url('/reply.png');
            background-size: contain;
            background-position: center;
        }
        @media (min-width: 768px) {
            .dialog {
                padding: 32px;
            }
        }
        .dialog h3 {
            color: #4b5563;
            font-size: 20px;
            margin-bottom: 8px;
            font-family: 'Luckiest Guy', cursive;
            text-transform: capitalize;
        }
        .dialog p {
            color: #4b5563;
            margin: 0 auto 12px;
            text-align: center;
            width: 70%;
            background: #fce7f3;
            text-transform: capitalize;
        }
        .close-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: #4b5563;
            color: white;
            border: 1px solid #4b5563;
            padding: 2px 16px;
            border-radius: 9999px;
            font-size: 14px;
            cursor: pointer;
        }
        .cake-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 57vh;
            overflow: hidden;
        }
        @media (min-width: 1024px) {
            .cake-container {
                height: 65vh;
            }
        }
        #birthday-cake {
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .cake {
            position: relative;
            width: 200px;
            height: 120px;
            margin: 0 auto;
        }
        .plate {
            width: 220px;
            height: 20px;
            background: #d3d3d3;
            border-radius: 50%;
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }
        .layer {
            position: absolute;
            width: 100%;
            height: 40px;
            background: #8d5524;
            border-radius: 10px;
        }
        .layer:nth-child(1) {
            bottom: 0;
        }
        .layer:nth-child(2) {
            bottom: 40px;
            background: #d2a679;
        }
        .layer:nth-child(3) {
            bottom: 80px;
            background: #8d5524;
        }
        .frosting {
            position: absolute;
            width: 100%;
            height: 10px;
            background: #fff;
            border-radius: 10px;
        }
        .frosting:nth-child(1) {
            bottom: 40px;
        }
        .frosting:nth-child(2) {
            bottom: 80px;
        }
        .frosting:nth-child(3) {
            bottom: 120px;
            height: 20px;
            border-radius: 50% 50% 0 0;
        }
        .candles {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }
        .candle {
            width: 10px;
            height: 30px;
            background: #1976d2;
            position: relative;
        }
        .flame, .flame2, .flame3 {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 12px;
            background: #ffeb3b;
            border-radius: 50% 50% 0 0;
            animation: flicker 0.5s infinite alternate;
        }
        .flame.off, .flame2.off, .flame3.off {
            background: #ccc;
            animation: none;
        }
        @keyframes flicker {
            0% {
                transform: translateX(-50%) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateX(-50%) scale(1.1);
                opacity: 0.8;
            }
        }
        .access {
            background: #0891b2;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            border: none;
        }
        .hidden {
            display: none;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
        }
        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="paperbgg"></div>
    <!-- <div id="dialogOverlay" class="dialog-overlay">
        <div id="dialog" class="dialog">
            <h3 id="dialogTitle">Cake Pop</h3>
            <p>Blow out the candles on your cake</p>
            <button id="closeBtn" class="close-btn">close</button>
            
            <div class="cake-container">
                <div id="birthday-cake">
                    <div class="cake">
                        <div class="plate"></div>
                        <div class="layer"></div>
                        <div class="layer"></div>
                        <div class="layer"></div>
                        <div class="frosting"></div>
                        <div class="frosting"></div>
                        <div class="frosting"></div>
                        <div class="candles">
                            <div class="candle"><div class="flame"></div></div>
                            <div class="candle"><div class="flame2"></div></div>
                            <div class="candle"><div class="flame3"></div></div>
                        </div>
                    </div>
                    <button class="access" onclick="startMic()">Allow Access to Mic</button>
                </div>
            </div>
        </div>
    </div> -->
    <div id="__next" class="container">
        <div class="flex flex-col justify-center items-center px-2 pt-5 pr-5 pb-5">
            <div class="swiper-container swiper-cards swiper-3d">
                <div class="swiper-wrapper">
                    <div class="swiper-slide spotify-slide">
                        <h1>Just for You, My Sweetest Dream</h1>
                        <h2 style="text-align: center;">To the most dazzling, heart-melting princess in the entire universe ðŸ’–ðŸ‘‘</h2>
                        <img alt="dummy" src="dudu-flower.gif" />
                    </div>
                    <div class="swiper-slide spotify-slide">
                        <div class="py-1 w-full px-2">
                        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/7zku2rvsa345C0kwQ4OEyZ?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>                        </div>
                    </div>
                    <div class="swiper-slide spotify-slide">
                        <div class="py-1 overflow-y-auto no-scrollbar">
                            <p class="font-indie mb-4 text-md">Happy Birthday Chuti Manika âœ¨ Before you, life was just okay.. steady, simple. Then you came along, and suddenly, everything felt brighter, fuller, and more beautiful. Youâ€™re the unexpected magic I never saw coming, and now I canâ€™t imagine life without you. Your laugh is my favorite sound, your love feels like home, and your presence makes everything better. Youâ€™ve cast a spell on me.. and I never want it to end. Today isnâ€™t just your birthday.. itâ€™s the day the world got a little more magicalâ€¦ because you were born. So hereâ€™s to you.. my muse, my miracle, my forever. Letâ€™s make this your most unforgettable year yet ðŸŽ‚ðŸ’«ðŸ’•</p>
                        </div>
                    </div>
                    <div class="swiper-slide spotify-slide">
                        <div class="py-1 overflow-y-auto no-scrollbar">
                            <p class="font-indie mb-4 text-lg">I wish I could explain how wonderful you are. How I could look into your eyes and never get tired of their beauty. How the sound of your voice gives me butterflies. How seeing you walk into a room makes me smile. How much you mean to me. And how much I love you. But you have me at a loss for words. And even if I could find the words to tell you these things, it wouldn't come anything near to showing how much you mean to me</p>
                            <p class="font-indie text-lg text-right pr-2">~ Neo</p>
                        </div>
                    </div>
                    <div class="swiper-slide spotify-slide">
                        <div class="py-1 overflow-y-auto no-scrollbar">
                            <div class="pb-2 flex justify-center">
                                <img src="https://media1.giphy.com/media/E1p3raZyZFbqEWfYv7/200.gif?cid=3aae8e5bhzmjnqsv1z8wn4zgl4xc4ydbft2cx142a5ozck1h&ep=v1_gifs_search&rid=200.gif&ct=g" alt="gif" />
                            </div>
                            <p class="font-sans mb-4 text-md">Happy birthday PrincessðŸ¥³ðŸ¥³ðŸŽ‰</p>
                            <!-- <p class="font-sans text-md text-right pr-2">~ Timmy</p> -->
                        </div>
                    </div>
                    <div class="swiper-slide spotify-slide">
                        <div class="py-1 overflow-y-auto no-scrollbar">
                            <img src="1.gif" alt="gif" style="max-height: 400px;"/>
                            <!-- <div class="pb-2 flex justify-center">
                            </div> -->
                            <!-- <p class="font-sans mb-4 text-md">Happy birthday PrincessðŸ¥³ðŸ¥³ðŸŽ‰</p> -->
                            <p class="font-sans text-md text-right pr-2">~ cause you're my pretty...</p>
                        </div>
                    </div>
                </div>
                <!-- <div class="swiper-pagination"></div> -->
            </div>
            <!-- <span class="page-indicator" id="pageIndicator">Page 1 of 5</span> -->
            <!-- <div class="nav-buttons">
                <button id="prevBtn">
                    <svg viewBox="0 0 255.99704 255.99704" width="50" height="50">
                        <g fill="#232f61">
                            <g transform="scale(5.12,5.12)">
                                <path d="M25,2c-12.68359,0 -23,10.31641 -23,23c0,12.68359 10.31641,23 23,23c12.68359,0 23,-10.31641 23,-23c0,-12.68359 -10.31641,-23 -23,-23zM28.70703,34.29297c0.39063,0.39063 0.39063,1.02344 0,1.41406c-0.19531,0.19531 -0.44922,0.29297 -0.70703,0.29297c-0.25781,0 -0.51172,-0.09766 -0.70703,-0.29297l-10,-10c-0.39062,-0.39062 -0.39062,-1.02344 0,-1.41406l10,-10c0.39063,-0.39062 1.02344,-0.39062 1.41406,0c0.39063,0.39063 0.39063,1.02344 0,1.41406l-9.29297,9.29297z"></path>
                            </g>
                        </g>
                    </svg>
                </button>
                <button id="nextBtn">
                    <svg viewBox="0 0 255.99704 255.99704" width="50" height="50">
                        <g fill="#232f61">
                            <g transform="scale(5.12,5.12)">
                                <path d="M25,2c-12.68359,0 -23,10.31641 -23,23c0,12.68359 10.31641,23 23,23c12.68359,0 23,-10.31641 23,-23c0,-12.68359 -10.31641,-23 -23,-23zM32.70703,25.70703l-10,10c-0.19531,0.19531 -0.44922,0.29297 -0.70703,0.29297c-0.25781,0 -0.51172,-0.09766 -0.70703,-0.29297c-0.39062,-0.39062 -0.39062,-1.02344 0,-1.41406l9.29297,-9.29297l-9.29297,-9.29297c-0.39062,-0.39062 -0.39062,-1.02344 0,-1.41406c0.39063,-0.39062 1.02344,-0.39062 1.41406,0l10,10c0.39063,0.39063 0.39063,1.02344 0,1.41406z"></path>
                            </g>
                        </g>
                    </svg>
                </button>
            </div> -->
            <!-- <div class="action-buttons">
                <div>
                    <button>
                        <svg width="21" height="19" viewBox="0 0 364 345" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="96" y="148.219" width="201.216" height="22.0754" transform="rotate(-26.3209 96 148.219)" fill="#232F61"></rect>
                            <rect x="99.2656" y="200" width="201.216" height="22.0754" transform="rotate(21.9821 99.2656 200)" fill="#232F61"></rect>
                            <circle cx="62" cy="186" r="62" fill="#232F61"></circle>
                            <circle cx="302" cy="62" r="62" fill="#232F61"></circle>
                            <circle cx="302" cy="283" r="62" fill="#232F61"></circle>
                        </svg>
                        <span>share</span>
                    </button>
                </div>
                <div>
                    <button>
                        <svg width="22" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0.00 0.00 512.00 512.00">
                            <path fill="#232f61" d=" M 139.40 179.20 Q 208.55 179.29 277.55 179.15 Q 288.70 179.13 297.50 179.97 Q 356.78 185.62 400.95 224.82 C 434.82 254.87 456.14 297.51 460.03 342.87 Q 460.85 352.42 460.82 363.15 Q 460.75 385.69 460.76 409.84 C 460.76 429.32 439.81 440.94 423.12 432.10 Q 414.56 427.58 410.96 417.96 Q 409.41 413.82 409.49 402.44 Q 409.62 383.06 409.62 362.96 Q 409.63 351.33 408.71 343.54 C 401.71 284.34 355.64 238.84 296.96 231.32 Q 289.63 230.38 277.63 230.39 Q 208.01 230.44 139.26 230.40 A 0.28 0.27 67.3 0 0 139.07 230.87 Q 166.01 257.92 194.01 285.72 Q 200.66 292.32 202.57 296.42 C 209.13 310.53 201.97 328.12 186.34 332.14 Q 171.63 335.92 160.41 324.65 Q 111.45 275.47 61.16 225.44 Q 55.77 220.08 53.76 216.00 C 48.70 205.73 51.34 193.99 59.35 186.00 Q 110.78 134.69 159.94 85.37 C 169.31 75.98 181.72 74.04 193.02 80.90 C 204.33 87.77 207.69 102.68 201.93 114.16 Q 199.98 118.06 192.39 125.55 Q 166.47 151.14 139.18 178.68 Q 138.67 179.20 139.40 179.20 Z"></path>
                        </svg>
                        <span>reply</span>
                    </button>
                </div>
            </div> -->
        </div>
        <!-- <div>
            <button type="button" class="view-pop" onclick="showPopup()">View Pop</button>
        </div>
        <footer>
            <div>made with <a href="/"><h1 class="font-comfortaa">happiepages</h1></a></div>
        </footer> -->
    </div>

    <!-- Include Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        // Initialize Swiper
        const swiper = new Swiper('.swiper-container', {
            effect: 'coverflow',
            grabCursor: true,
            centeredSlides: true,
            slidesPerView: 'auto',
            coverflowEffect: {
                rotate: 2,
                stretch: 0,
                depth: 100,
                modifier: 1,
                slideShadows: true,
            },
            pagination: {
                el: '.swiper-pagination',
            },
            on: {
                slideChange: function () {
                    // document.getElementById('pageIndicator').textContent = `Page ${this.activeIndex + 1} of ${this.slides.length}`;
                },
            },
        });

        // // Popup and microphone logic
        // const dialogOverlay = document.getElementById('dialogOverlay');
        // const dialog = document.getElementById('dialog');
        // const container = document.getElementById('__next');
        // const closeBtn = document.getElementById('closeBtn');

        // dialogOverlay.style.display = 'block';
        // dialog.style.display = 'block';

        // let audioContext;
        // let analyser;
        // let microphone;

        // Confetti animation from the provided code
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.top = `${Math.random() * 100}vh`;
                confetti.style.animation = `fall ${Math.random() * 2 + 1}s linear`;
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000);
            }
        }

        // async function startMic() {
        //     try {
        //         audioContext = new (window.AudioContext || window.webkitAudioContext)();
        //         analyser = audioContext.createAnalyser();
        //         const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        //         microphone = audioContext.createMediaStreamSource(stream);
        //         microphone.connect(analyser);
        //         analyser.fftSize = 256;
        //         const dataArray = new Uint8Array(analyser.frequencyBinCount);
        //         const flames = [document.querySelector('.flame'), document.querySelector('.flame2'), document.querySelector('.flame3')];
        //         let blownOut = 0;

        //         function checkAudio() {
        //             analyser.getByteFrequencyData(dataArray);
        //             const average = dataArray.reduce((a, b) => a + b) / dataArray.length;
        //             if (average > 50) { // Threshold for detecting "blow"
        //                 blownOut++;
        //                 if (blownOut <= flames.length) {
        //                     flames[blownOut - 1].classList.add('off');
        //                 }
        //                 if (blownOut === flames.length) {
        //                     createConfetti(); // Trigger confetti animation
        //                     setTimeout(() => {
        //                         dialogOverlay.style.display = 'none';
        //                         dialog.style.display = 'none';
        //                         container.classList.remove('hidden');
        //                         stream.getTracks().forEach(track => track.stop());
        //                     }, 500);
        //                     return;
        //                 }
        //             }
        //             requestAnimationFrame(checkAudio);
        //         }
        //         checkAudio();
        //     } catch (err) {
        //         console.error('Microphone access denied:', err);
        //         alert('Microphone access is required to blow out the candles. Please allow access.');
        //     }
        // }

        // function showPopup() {
        //     dialogOverlay.style.display = 'block';
        //     dialog.style.display = 'block';
        //     container.classList.add('hidden');
        //     const flames = [document.querySelector('.flame'), document.querySelector('.flame2'), document.querySelector('.flame3')];
        //     flames.forEach(flame => flame.classList.remove('off'));
        // }

        // closeBtn.addEventListener('click', () => {
        //     dialogOverlay.style.display = 'none';
        //     dialog.style.display = 'none';
        //     container.classList.remove('hidden');
        // });

        // Trigger confetti animation when the page loads
        window.addEventListener('beforeunload', () => {
            createConfetti();
        });
        window.addEventListener('load', () => {
            createConfetti();
        });
        // Navigation buttons
        // document.getElementById('prevBtn').addEventListener('click', () => swiper.slidePrev());
        // document.getElementById('nextBtn').addEventListener('click', () => swiper.slideNext());
    </script>
</body>
</html>